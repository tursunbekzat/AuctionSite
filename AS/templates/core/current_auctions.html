{% extends 'base.html' %}

{% block title %}Current Auctions{% endblock %}

{% block extra_css %}
    {{ block.super }}
{% endblock extra_css %}

{% block content %}
<div class="uk-section">
  <div class="uk-container">
      <h1 class="uk-heading-medium uk-text-center">Current Auctions</h1>
        
      <div class="uk-grid uk-child-width-1-3@m uk-grid-match" uk-grid>
          {% for auction in auctions %} 
              <div>
                  <div class="uk-card uk-card-default uk-card-hover">
                      <div class="uk-card-media-top">
                          {% if auction.image %}
                              <img src="{{ auction.image.url }}" alt="{{ auction.name }}">
                          {% else %}
                              <div class="uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-background-muted">
                                  <span uk-icon="icon: image; ratio: 3"></span>
                              </div>
                          {% endif %}
                      </div>
                      <div class="uk-card-body">
                          <h3 class="uk-card-title">{{ auction.name }}</h3>
                          <p>{{ auction.description|truncatewords:20 }}</p>
                          <p class="uk-text-bold">Current Price: ${{ auction.current_price }}</p>
                          <p>Category: {{ auction.category.name }}</p>
                          <p>Created by: {{ auction.author.username }}</p>
                      </div>
                      <div class="uk-card-footer">
                          <a href="{% url 'auction_detail' auction.id %}" class="uk-button uk-button-text">View Auction</a>
                      </div>
                  </div>
              </div>
          {% empty %}
              <div class="uk-width-1-1">
                  <p class="uk-text-center">No active auctions</p>
              </div>
          {% endfor %}
      </div>
  </div>
</div>
{% endblock %}
